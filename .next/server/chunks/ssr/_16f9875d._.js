module.exports=[70988,a=>{"use strict";var b=a.i(87924),c=a.i(56025),d=a.i(50944),e=a.i(72131),f=a.i(68684);function g({children:a}){let{isAuth:g,loading:h}=(0,c.useAuth)(),i=(0,d.useRouter)();return((0,e.useEffect)(()=>{h||g||i.push("/")},[g,h,i]),h)?(0,b.jsx)("div",{className:"flex items-center justify-center min-h-screen",children:(0,b.jsx)(f.Spinner,{})}):g?(0,b.jsx)(b.Fragment,{children:a}):null}a.s(["default",()=>g])},67937,16201,a=>{"use strict";var b=a.i(70106);let c=(0,b.default)("calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);a.s(["default",()=>c],67937);let d=(0,b.default)("circle-check-big",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);a.s(["CheckCircle",()=>d],16201)},62722,5151,a=>{"use strict";var b=a.i(70106);let c=(0,b.default)("circle-x",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]);a.s(["XCircle",()=>c],62722);let d=(0,b.default)("copy",[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]]);a.s(["Copy",()=>d],5151)},91119,41675,41710,69520,a=>{"use strict";var b=a.i(87924),c=a.i(68114);function d({className:a,...d}){return(0,b.jsx)("div",{"data-slot":"card",className:(0,c.cn)("bg-card text-card-foreground flex flex-col gap-6 rounded-xl border py-6 shadow-sm",a),...d})}function e({className:a,...d}){return(0,b.jsx)("div",{"data-slot":"card-header",className:(0,c.cn)("@container/card-header grid auto-rows-min grid-rows-[auto_auto] items-start gap-2 px-6 has-data-[slot=card-action]:grid-cols-[1fr_auto] [.border-b]:pb-6",a),...d})}function f({className:a,...d}){return(0,b.jsx)("div",{"data-slot":"card-title",className:(0,c.cn)("leading-none font-semibold",a),...d})}function g({className:a,...d}){return(0,b.jsx)("div",{"data-slot":"card-description",className:(0,c.cn)("text-muted-foreground text-sm",a),...d})}function h({className:a,...d}){return(0,b.jsx)("div",{"data-slot":"card-content",className:(0,c.cn)("px-6",a),...d})}a.s(["Card",()=>d,"CardContent",()=>h,"CardDescription",()=>g,"CardHeader",()=>e,"CardTitle",()=>f],91119);var i=a.i(67937);a.s(["Calendar",()=>i.default],41675);var j=a.i(70106);let k=(0,j.default)("clock",[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]);a.s(["Clock",()=>k],41710);let l=(0,j.default)("refresh-cw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);a.s(["RefreshCw",()=>l],69520)},10492,a=>{"use strict";var b=a.i(87924),c=a.i(72131),d=a.i(56025),e=a.i(70988),f=a.i(86304),g=a.i(91119),h=a.i(69876),i=a.i(99570),j=a.i(41675),k=a.i(11156),l=a.i(16201),m=a.i(62722),n=a.i(41710),o=a.i(69520),p=a.i(5151),q=a.i(39646),r=a.i(23292);function s(){let{user:a}=(0,d.useAuth)(),[s,t]=(0,c.useState)([]),[u,v]=(0,c.useState)(!0);(0,c.useEffect)(()=>{w()},[]);let w=async()=>{try{let a=await fetch("/api/v1/orders/topup",{headers:{Authorization:`Bearer ${localStorage.getItem("auth_token")}`}}),b=await a.json();b.success?t(b.orders):r.toast.error("ไม่สามารถโหลดข้อมูลได้")}catch(a){console.error("Error fetching topup orders:",a),r.toast.error("เกิดข้อผิดพลาดในการโหลดข้อมูล")}finally{v(!1)}};return u?(0,b.jsx)(e.default,{children:(0,b.jsxs)("main",{className:"min-h-screen",children:[(0,b.jsx)("div",{className:"flex justify-center border-b",children:(0,b.jsxs)("div",{className:"w-full max-w-5xl border-x p-3",children:[(0,b.jsx)("h1",{className:"text-lg font-medium",children:"ประวัติการเติมเกม"}),(0,b.jsx)("p",{className:"text-muted-foreground text-xs",children:"กำลังโหลดข้อมูล..."})]})}),(0,b.jsx)("div",{className:"flex justify-center",children:(0,b.jsx)("div",{className:"w-full max-w-5xl border-x p-3",children:(0,b.jsx)("div",{className:"space-y-4",children:Array.from({length:3}).map((a,c)=>(0,b.jsxs)(g.Card,{className:"animate-pulse",children:[(0,b.jsxs)(g.CardHeader,{children:[(0,b.jsx)("div",{className:"h-4 bg-gray-200 rounded w-3/4"}),(0,b.jsx)("div",{className:"h-3 bg-gray-200 rounded w-1/2"})]}),(0,b.jsx)(g.CardContent,{children:(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsx)("div",{className:"h-3 bg-gray-200 rounded"}),(0,b.jsx)("div",{className:"h-3 bg-gray-200 rounded w-5/6"})]})})]},c))})})})]})}):(0,b.jsx)(e.default,{children:(0,b.jsxs)("main",{className:"min-h-screen",children:[(0,b.jsx)("div",{className:"flex justify-center border-b",children:(0,b.jsxs)("div",{className:"w-full max-w-5xl border-x p-3",children:[(0,b.jsx)("h1",{className:"text-lg font-medium",children:"ประวัติการเติมเกม"}),(0,b.jsx)("p",{className:"text-muted-foreground text-xs",children:"ประวัติการเติมเกมทั้งหมดของคุณ"})]})}),(0,b.jsx)("div",{className:"flex justify-center",children:(0,b.jsx)("div",{className:"w-full max-w-5xl border-x min-h-screen p-3",children:s.length>0?(0,b.jsxs)("div",{className:"space-y-4",children:[(0,b.jsxs)("div",{className:"flex items-center justify-between",children:[(0,b.jsxs)("p",{className:"text-sm text-muted-foreground",children:["พบ ",s.length," รายการ"]}),(0,b.jsxs)(i.Button,{variant:"outline",size:"sm",onClick:w,disabled:u,children:[(0,b.jsx)(o.RefreshCw,{className:`w-4 h-4 mr-2 ${u?"animate-spin":""}`}),"รีเฟรช"]})]}),(0,b.jsx)(h.ScrollArea,{className:"h-[600px]",children:(0,b.jsx)("div",{className:"space-y-4",children:s.map(a=>{let c;return(0,b.jsxs)(g.Card,{className:"hover:shadow-md transition-shadow",children:[(0,b.jsx)(g.CardHeader,{className:"pb-3",children:(0,b.jsxs)("div",{className:"flex items-start justify-between",children:[(0,b.jsxs)("div",{className:"space-y-1",children:[(0,b.jsxs)(g.CardTitle,{className:"text-base flex items-center gap-2",children:[(0,b.jsx)(q.Gamepad2,{className:"w-4 h-4"}),"คำสั่งซื้อ #",a.id.slice(-8)]}),(0,b.jsxs)(g.CardDescription,{className:"flex items-center gap-4 text-xs",children:[(0,b.jsxs)("span",{className:"flex items-center gap-1",children:[(0,b.jsx)(j.Calendar,{className:"w-3 h-3"}),new Date(a.createdAt).toLocaleDateString("th-TH",{year:"numeric",month:"long",day:"numeric",hour:"2-digit",minute:"2-digit"})]}),a.transactionId&&(0,b.jsxs)("span",{className:"flex items-center gap-1",children:[(0,b.jsx)(k.CreditCard,{className:"w-3 h-3"}),"TXN: ",a.transactionId]})]})]}),(a=>{switch(a){case"completed":return(0,b.jsxs)(f.Badge,{variant:"default",className:"bg-green-100 text-green-800 border-green-200",children:[(0,b.jsx)(l.CheckCircle,{className:"w-3 h-3 mr-1"}),"สำเร็จ"]});case"failed":return(0,b.jsxs)(f.Badge,{variant:"destructive",children:[(0,b.jsx)(m.XCircle,{className:"w-3 h-3 mr-1"}),"ล้มเหลว"]});case"processing":return(0,b.jsxs)(f.Badge,{variant:"secondary",children:[(0,b.jsx)(o.RefreshCw,{className:"w-3 h-3 mr-1"}),"กำลังดำเนินการ"]});case"pending":return(0,b.jsxs)(f.Badge,{variant:"outline",children:[(0,b.jsx)(n.Clock,{className:"w-3 h-3 mr-1"}),"รอดำเนินการ"]});case"confirming":return(0,b.jsxs)(f.Badge,{variant:"outline",className:"bg-yellow-50 text-yellow-700 border-yellow-200",children:[(0,b.jsx)(n.Clock,{className:"w-3 h-3 mr-1"}),"กำลังยืนยัน"]});case"refunded":return(0,b.jsxs)(f.Badge,{variant:"outline",className:"bg-gray-50 text-gray-700 border-gray-200",children:[(0,b.jsx)(o.RefreshCw,{className:"w-3 h-3 mr-1"}),"คืนเงินแล้ว"]});default:return(0,b.jsx)(f.Badge,{variant:"outline",children:a})}})(a.state)]})}),(0,b.jsx)(g.CardContent,{className:"pt-0",children:(0,b.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsxs)("div",{className:"flex items-center justify-between",children:[(0,b.jsx)("span",{className:"text-sm font-medium",children:"เกม:"}),(0,b.jsx)("span",{className:"text-sm",children:a.productId})]}),(0,b.jsxs)("div",{className:"flex items-center justify-between",children:[(0,b.jsx)("span",{className:"text-sm font-medium",children:"ราคา:"}),(0,b.jsx)("span",{className:"text-sm font-semibold text-green-600",children:(c=a.price,new Intl.NumberFormat("th-TH",{style:"currency",currency:"THB"}).format(c))})]}),a.productMetadata&&(0,b.jsxs)("div",{className:"space-y-1",children:[(0,b.jsx)("span",{className:"text-sm font-medium",children:"ข้อมูลสินค้า:"}),(0,b.jsxs)("div",{className:"bg-gray-50 p-2 rounded text-xs",children:[a.productMetadata.name&&(0,b.jsxs)("div",{children:["ชื่อเกม: ",a.productMetadata.name]}),a.productMetadata.itemName&&(0,b.jsxs)("div",{children:["แพ็คเกจ: ",a.productMetadata.itemName]}),a.productMetadata.itemSku&&(0,b.jsxs)("div",{children:["SKU: ",a.productMetadata.itemSku]})]})]})]}),a.input&&(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsx)("span",{className:"text-sm font-medium",children:"ข้อมูลการเติม:"}),(0,b.jsxs)("div",{className:"bg-gray-50 p-3 rounded text-sm font-mono break-all relative",children:[(0,b.jsx)("div",{className:"max-h-20 overflow-hidden",children:Object.entries(a.input).map(([a,c])=>(0,b.jsxs)("div",{children:[a,": ",c]},a))}),(0,b.jsx)(i.Button,{variant:"ghost",size:"sm",className:"absolute top-1 right-1 h-6 w-6 p-0",onClick:()=>{var b;return b=Object.entries(a.input||{}).map(([a,b])=>`${a}: ${b}`).join("\n"),void(navigator.clipboard.writeText(b),r.toast.success("คัดลอกแล้ว"))},children:(0,b.jsx)(p.Copy,{className:"w-3 h-3"})})]})]})]})})]},a.id)})})})]}):(0,b.jsxs)("div",{className:"text-center py-12",children:[(0,b.jsx)(q.Gamepad2,{className:"w-12 h-12 mx-auto text-gray-400 mb-4"}),(0,b.jsx)("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"ยังไม่มีประวัติการเติมเกม"}),(0,b.jsx)("p",{className:"text-gray-500 mb-4",children:"คุณยังไม่ได้เติมเกมใดๆ"}),(0,b.jsx)(i.Button,{asChild:!0,children:(0,b.jsxs)("a",{href:"/topup",children:[(0,b.jsx)(q.Gamepad2,{className:"w-4 h-4 mr-2"}),"ไปเติมเกม"]})})]})})})]})})}a.s(["default",()=>s])}];

//# sourceMappingURL=_16f9875d._.js.map
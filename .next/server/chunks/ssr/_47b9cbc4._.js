module.exports=[38784,a=>{"use strict";let b=(0,a.i(70106).default)("shopping-cart",[["circle",{cx:"8",cy:"21",r:"1",key:"jimo8o"}],["circle",{cx:"19",cy:"21",r:"1",key:"13723u"}],["path",{d:"M2.05 2.05h2l2.66 12.42a2 2 0 0 0 2 1.58h9.78a2 2 0 0 0 1.95-1.57l1.65-7.43H5.12",key:"9zh506"}]]);a.s(["ShoppingCart",()=>b],38784)},69012,a=>{"use strict";let b=(0,a.i(70106).default)("funnel",[["path",{d:"M10 20a1 1 0 0 0 .553.895l2 1A1 1 0 0 0 14 21v-7a2 2 0 0 1 .517-1.341L21.74 4.67A1 1 0 0 0 21 3H3a1 1 0 0 0-.742 1.67l7.225 7.989A2 2 0 0 1 10 14z",key:"sc7q7i"}]]);a.s(["Filter",()=>b],69012)},50642,30244,45573,a=>{"use strict";var b=a.i(87924),c=a.i(86304);function d({service:a,onClick:d}){let e;return(0,b.jsxs)("div",{className:"group relative overflow-hidden border p-2 cursor-pointer rounded-md",onClick:()=>d(a),children:[(0,b.jsx)("img",{src:"/image-product-app-p.png",className:"w-full object-cover rounded-md",alt:"product image"}),(0,b.jsxs)("div",{className:"mt-2",children:[(0,b.jsx)("h5",{className:"text-sm font-medium line-clamp-1",children:a.name}),(0,b.jsxs)("div",{className:"flex items-center justify-between mt-1",children:[(0,b.jsx)("p",{className:"text-sm font-semibold",children:(e=a.price,new Intl.NumberFormat("th-TH",{style:"currency",currency:"THB"}).format(e))}),(0,b.jsx)(c.Badge,{variant:a.stock>0?"default":"secondary",className:"text-xs",children:a.stock>0?"มีสินค้า":"หมด"})]})]})]})}var e=a.i(72131),f=a.i(99570),g=a.i(14574),h=a.i(69876),i=a.i(38784),j=a.i(77156),k=a.i(24007),k=k,l=a.i(23292),m=a.i(56025);function n({service:a,open:d,onOpenChange:n}){let[o,p]=(0,e.useState)(!1),{isAuth:q,user:r,login:s}=(0,m.useAuth)(),t=a=>new Intl.NumberFormat("th-TH",{style:"currency",currency:"THB"}).format(a),u=async()=>{if(a){p(!0);try{let b=await fetch("/api/v1/premium/buy",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("auth_token")}`},body:JSON.stringify({id:a.id})}),c=await b.json();if(c.success){if(l.toast.success("สั่งซื้อสำเร็จ!",{description:`ได้รับสินค้าแล้ว ตรวจสอบข้อมูลในบัญชีของคุณ`}),r&&c.data?.user?.balance!==void 0){let a={...r,balance:parseFloat(c.data.user.balance)},b=localStorage.getItem("auth_token");b&&await s(b,a)}n(!1)}else l.toast.error("สั่งซื้อล้มเหลว",{description:c.message||"เกิดข้อผิดพลาดในการสั่งซื้อ"})}catch(a){console.error("Purchase error:",a),l.toast.error("เกิดข้อผิดพลาดในการสั่งซื้อ",{description:"กรุณาลองใหม่อีกครั้ง"})}finally{p(!1)}}};return a?(0,b.jsx)(g.Dialog,{open:d,onOpenChange:n,children:(0,b.jsxs)(g.DialogContent,{className:"max-w-2xl max-h-[80vh]",children:[(0,b.jsxs)(g.DialogHeader,{children:[(0,b.jsxs)(g.DialogTitle,{className:"flex items-center gap-2",children:[(0,b.jsx)(i.ShoppingCart,{className:"w-5 h-5"}),a.name]}),(0,b.jsx)(g.DialogDescription,{children:"รายละเอียดสินค้าและบริการ"})]}),(0,b.jsx)(h.ScrollArea,{className:"max-h-[60vh] pr-4",children:(0,b.jsxs)("div",{className:"space-y-4",children:[(0,b.jsx)("div",{className:"flex justify-center",children:(0,b.jsx)("img",{src:"/image-product-app-p.png",className:"w-full object-cover rounded-lg",alt:"product image"})}),(0,b.jsxs)("div",{className:"flex items-center justify-between p-4 border rounded-md",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("p",{className:"text-sm",children:"ราคา"}),(0,b.jsx)("p",{className:"text-2xl font-bold",children:t(a.price)})]}),(0,b.jsxs)("div",{className:"text-right",children:[(0,b.jsx)("p",{className:"text-sm text-gray-600",children:"สถานะสินค้า"}),(0,b.jsx)(c.Badge,{variant:a.stock&&a.stock>0?"default":"secondary",className:"text-xs",children:a.stock&&a.stock>0?"มีสินค้า":"หมด"})]})]}),q&&r&&(0,b.jsxs)("div",{className:"p-4 border rounded-md",children:[(0,b.jsxs)("div",{className:"flex items-center justify-between",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("p",{className:"text-sm font-medium",children:"ยอดเงินคงเหลือ"}),(0,b.jsx)("p",{className:"text-lg font-bold",children:t(r.balance||0)})]}),(0,b.jsxs)("div",{className:"text-right",children:[(0,b.jsx)("p",{className:"text-sm text-gray-600",children:"หลังซื้อ"}),(0,b.jsx)("p",{className:`text-lg font-bold ${(r.balance||0)>=a.price?"text-green-600":"text-red-600"}`,children:t((r.balance||0)-a.price)})]})]}),(r.balance||0)<a.price&&(0,b.jsx)("p",{className:"text-xs text-red-600 mt-2",children:"ยอดเงินคงเหลือไม่เพียงพอสำหรับการซื้อสินค้านี้"})]}),a.description&&(0,b.jsxs)("div",{children:[(0,b.jsx)("h4",{className:"font-medium mb-2",children:"รายละเอียดสินค้า"}),(0,b.jsx)("div",{className:"prose prose-sm max-w-none text-muted-foreground text-sm p-2 border rounded-md",dangerouslySetInnerHTML:{__html:a.description}})]}),(0,b.jsxs)("div",{className:"grid grid-cols-2 gap-4 rounded-lg",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("p",{className:"text-sm font-medium text-gray-600",children:"รหัสสินค้า"}),(0,b.jsx)("p",{className:"font-mono text-sm",children:a.id})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("p",{className:"text-sm font-medium text-gray-600",children:"ประเภท"}),(0,b.jsx)("p",{className:"text-sm",children:"แอพพรีเมี่ยม"})]})]})]})}),(0,b.jsxs)("div",{className:"flex gap-2 pt-4",children:[q?(0,b.jsx)(b.Fragment,{children:(0,b.jsxs)(f.Button,{className:"flex-1 cursor-pointer",disabled:!a.stock||a.stock<=0||o||!!(r&&(r.balance||0)<a.price),onClick:u,children:[(0,b.jsx)(i.ShoppingCart,{className:"w-4 h-4 mr-2"}),o?"กำลังสั่งซื้อ...":"ซื้อเลย"]})}):(0,b.jsx)(b.Fragment,{children:(0,b.jsxs)(f.Button,{variant:"default",disabled:!0,children:[(0,b.jsx)(k.default,{className:"w-4 h-4 mr-2"}),"ต้องการซื้อสินค้า กรุณาเข้าสู่ระบบ"]})}),(0,b.jsxs)(f.Button,{variant:"outline",className:"flex-1 cursor-pointer",onClick:()=>n(!1),disabled:o,children:[(0,b.jsx)(j.Eye,{className:"w-4 h-4 mr-2"}),"ปิด"]})]})]})}):null}a.s(["PremiumServiceDialog",()=>n],30244);var o=a.i(83497);function p({services:a,loading:c,onServiceClick:e,showViewAllButton:f=!0,viewAllHref:g="/premium",viewAllText:h="ดูทั้งหมด"}){return(0,b.jsx)("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-5 gap-3 p-3",children:c?Array.from({length:10}).map((a,c)=>(0,b.jsxs)("div",{className:"group relative overflow-hidden border p-2 rounded-md animate-pulse",children:[(0,b.jsx)("div",{className:"w-full h-24 bg-gray-200 rounded-md"}),(0,b.jsxs)("div",{className:"mt-2 space-y-2",children:[(0,b.jsx)("div",{className:"h-4 bg-gray-200 rounded"}),(0,b.jsx)("div",{className:"h-3 bg-gray-200 rounded w-3/4"})]})]},c)):a.length>0?a.map(a=>(0,b.jsx)(d,{service:a,onClick:e},a.id)):(0,b.jsxs)("div",{className:"col-span-full text-center py-8",children:[(0,b.jsx)(o.Package,{className:"w-12 h-12 mx-auto text-gray-400 mb-2"}),(0,b.jsx)("p",{className:"text-gray-500",children:"ไม่พบข้อมูลบริการ"})]})})}a.s(["PremiumServiceGrid",()=>p],45573),a.s([],50642)},28193,a=>{"use strict";var b=a.i(87924),c=a.i(72131);a.i(50642);var d=a.i(45573),e=a.i(30244),f=a.i(66718),g=a.i(80701),h=a.i(87532),i=a.i(69012),j=a.i(23292);let k=[{value:"all",label:"ทั้งหมด"},{value:"nf",label:"Netflix (nf)"},{value:"netflix",label:"Netflix"},{value:"iqiyi",label:"IQIYI Gold"},{value:"youtube",label:"YouTube"},{value:"canva",label:"CANVA"},{value:"wetv",label:"Wetv"},{value:"viu",label:"VIU"},{value:"bilibili",label:"Bilibili"},{value:"youku",label:"YOUKU"},{value:"trueid",label:"TrueID"},{value:"ch",label:"CH"},{value:"capcut",label:"CAPCUT"},{value:"max",label:"MAX UNLIMITED"},{value:"short",label:"SHORT"},{value:"kalos",label:"KALOS TV"},{value:"goodshort",label:"GOOD SHORT"},{value:"shotshort",label:"SHOT SHORT"},{value:"reelshort",label:"REEL SHORT"},{value:"moboreels",label:"MOBOREELS VIP"},{value:"stardust",label:"STARDUST TV"},{value:"shortwave",label:"SHORT WAVE"},{value:"netshort",label:"NET SHORT"},{value:"flextv",label:"FLEXTV"},{value:"monomax1",label:"MONOMAX1"},{value:"youkuvip",label:"YOUKU VIP"},{value:"chatgpt",label:"Chat GPT"}];function l(){let[a,l]=(0,c.useState)([]),[m,n]=(0,c.useState)(!0),[o,p]=(0,c.useState)(null),[q,r]=(0,c.useState)(!1),[s,t]=(0,c.useState)(""),[u,v]=(0,c.useState)("all");(0,c.useEffect)(()=>{w()},[]);let w=async()=>{try{let a=await fetch("/api/v1/premium"),b=await a.json();b.success?l(b.services):j.toast.error("ไม่สามารถโหลดข้อมูลบริการได้")}catch(a){console.error("Error fetching premium services:",a),j.toast.error("เกิดข้อผิดพลาดในการโหลดข้อมูล")}finally{n(!1)}},x=(0,c.useMemo)(()=>{let b=a;return u&&"all"!==u&&(b=b.filter(a=>{let b=a.name.toLowerCase();switch(u){case"nf":return b.includes("netflix")||b.includes("nf");case"netflix":return b.includes("netflix");case"iqiyi":return b.includes("iqiyi")||b.includes("gold");case"youtube":return b.includes("youtube");case"canva":return b.includes("canva");case"wetv":return b.includes("wetv");case"viu":return b.includes("viu");case"bilibili":return b.includes("bilibili");case"youku":return b.includes("youku");case"trueid":return b.includes("trueid");case"ch":return b.includes("ch");case"capcut":return b.includes("capcut");case"max":return b.includes("max")||b.includes("unlimited");case"short":return b.includes("short");case"kalos":return b.includes("kalos");case"goodshort":return b.includes("good short");case"shotshort":return b.includes("shot short");case"reelshort":return b.includes("reel short");case"moboreels":return b.includes("moboreels")||b.includes("vip");case"stardust":return b.includes("stardust");case"shortwave":return b.includes("short wave");case"netshort":return b.includes("net short");case"flextv":return b.includes("flextv");case"monomax1":return b.includes("monomax");case"youkuvip":return b.includes("youku vip");case"chatgpt":return b.includes("chat")&&b.includes("gpt");default:return!0}})),s.trim()&&(b=b.filter(a=>a.name.toLowerCase().includes(s.toLowerCase())||a.description&&a.description.toLowerCase().includes(s.toLowerCase()))),b},[a,u,s]);return(0,b.jsxs)("main",{className:"min-h-screen",children:[(0,b.jsx)("section",{className:"flex justify-center border-b",children:(0,b.jsxs)("div",{className:"w-full max-w-5xl border-x",children:[(0,b.jsxs)("div",{className:"p-3 border-b",children:[(0,b.jsx)("h3",{className:"text-base font-medium",children:"แอพพรีเมี่ยม"}),(0,b.jsx)("p",{className:"text-xs text-muted-foreground",children:"บริการแอพพรีเมี่ยมทั้งหมด"})]}),(0,b.jsx)("div",{className:"p-3 border-b",children:(0,b.jsxs)("div",{className:"flex flex-col sm:flex-row gap-3",children:[(0,b.jsxs)("div",{className:"relative flex-1",children:[(0,b.jsx)(h.Search,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-4 h-4"}),(0,b.jsx)(f.Input,{placeholder:"ค้นหาบริการ...",value:s,onChange:a=>t(a.target.value),className:"pl-10"})]}),(0,b.jsxs)("div",{className:"relative",children:[(0,b.jsx)(i.Filter,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-4 h-4"}),(0,b.jsxs)(g.Select,{value:u,onValueChange:v,children:[(0,b.jsx)(g.SelectTrigger,{className:"w-full sm:w-48 pl-10",children:(0,b.jsx)(g.SelectValue,{placeholder:"เลือกประเภท"})}),(0,b.jsx)(g.SelectContent,{className:"max-h-[300px] overflow-y-auto",children:k.map(a=>(0,b.jsx)(g.SelectItem,{value:a.value,children:a.label},a.value))})]})]})]})}),(0,b.jsx)(d.PremiumServiceGrid,{services:x,loading:m,onServiceClick:a=>{p(a),r(!0)},showViewAllButton:!1})]})}),(0,b.jsx)(e.PremiumServiceDialog,{service:o,open:q,onOpenChange:r})]})}a.s(["default",()=>l])}];

//# sourceMappingURL=_47b9cbc4._.js.map
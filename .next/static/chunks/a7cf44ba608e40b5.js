(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,1928,e=>{"use strict";let s=(0,e.i(75254).default)("shopping-cart",[["circle",{cx:"8",cy:"21",r:"1",key:"jimo8o"}],["circle",{cx:"19",cy:"21",r:"1",key:"13723u"}],["path",{d:"M2.05 2.05h2l2.66 12.42a2 2 0 0 0 2 1.58h9.78a2 2 0 0 0 1.95-1.57l1.65-7.43H5.12",key:"9zh506"}]]);e.s(["ShoppingCart",()=>s],1928)},76015,e=>{"use strict";var s=e.i(43476),a=e.i(32341),t=e.i(18566),r=e.i(71645),c=e.i(87968);function i({children:e}){let{isAuth:i,loading:l}=(0,a.useAuth)(),d=(0,t.useRouter)();return((0,r.useEffect)(()=>{l||i||d.push("/")},[i,l,d]),l)?(0,s.jsx)("div",{className:"flex items-center justify-center min-h-screen",children:(0,s.jsx)(c.Spinner,{})}):i?(0,s.jsx)(s.Fragment,{children:e}):null}e.s(["default",()=>i])},61277,69638,e=>{"use strict";var s=e.i(75254);let a=(0,s.default)("calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);e.s(["default",()=>a],61277);let t=(0,s.default)("circle-check-big",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);e.s(["CheckCircle",()=>t],69638)},73884,74886,e=>{"use strict";var s=e.i(75254);let a=(0,s.default)("circle-x",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]);e.s(["XCircle",()=>a],73884);let t=(0,s.default)("copy",[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]]);e.s(["Copy",()=>t],74886)},15288,87316,3116,16715,e=>{"use strict";var s=e.i(43476),a=e.i(75157);function t({className:e,...t}){return(0,s.jsx)("div",{"data-slot":"card",className:(0,a.cn)("bg-card text-card-foreground flex flex-col gap-6 rounded-xl border py-6 shadow-sm",e),...t})}function r({className:e,...t}){return(0,s.jsx)("div",{"data-slot":"card-header",className:(0,a.cn)("@container/card-header grid auto-rows-min grid-rows-[auto_auto] items-start gap-2 px-6 has-data-[slot=card-action]:grid-cols-[1fr_auto] [.border-b]:pb-6",e),...t})}function c({className:e,...t}){return(0,s.jsx)("div",{"data-slot":"card-title",className:(0,a.cn)("leading-none font-semibold",e),...t})}function i({className:e,...t}){return(0,s.jsx)("div",{"data-slot":"card-description",className:(0,a.cn)("text-muted-foreground text-sm",e),...t})}function l({className:e,...t}){return(0,s.jsx)("div",{"data-slot":"card-content",className:(0,a.cn)("px-6",e),...t})}e.s(["Card",()=>t,"CardContent",()=>l,"CardDescription",()=>i,"CardHeader",()=>r,"CardTitle",()=>c],15288);var d=e.i(61277);e.s(["Calendar",()=>d.default],87316);var n=e.i(75254);let x=(0,n.default)("clock",[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]);e.s(["Clock",()=>x],3116);let m=(0,n.default)("refresh-cw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);e.s(["RefreshCw",()=>m],16715)},8612,e=>{"use strict";var s=e.i(43476),a=e.i(71645),t=e.i(32341),r=e.i(76015),c=e.i(87486),i=e.i(15288),l=e.i(59684),d=e.i(19455),n=e.i(1928),x=e.i(87316),m=e.i(61659),h=e.i(69638),o=e.i(73884),u=e.i(3116),p=e.i(16715),j=e.i(88844),y=e.i(74886),f=e.i(75254);let g=(0,f.default)("link",[["path",{d:"M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71",key:"1cjeqo"}],["path",{d:"M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71",key:"19qd67"}]]),N=(0,f.default)("hash",[["line",{x1:"4",x2:"20",y1:"9",y2:"9",key:"4lhtct"}],["line",{x1:"4",x2:"20",y1:"15",y2:"15",key:"vyu0kd"}],["line",{x1:"10",x2:"8",y1:"3",y2:"21",key:"1ggp8o"}],["line",{x1:"16",x2:"14",y1:"3",y2:"21",key:"weycgp"}]]);var v=e.i(46696);function w(){let{user:e}=(0,t.useAuth)(),[f,w]=(0,a.useState)([]),[k,b]=(0,a.useState)(!0);(0,a.useEffect)(()=>{C()},[]);let C=async()=>{try{let e=await fetch("/api/v1/orders/social",{headers:{Authorization:`Bearer ${localStorage.getItem("auth_token")}`}}),s=await e.json();s.success?w(s.orders):v.toast.error("ไม่สามารถโหลดข้อมูลได้")}catch(e){console.error("Error fetching social orders:",e),v.toast.error("เกิดข้อผิดพลาดในการโหลดข้อมูล")}finally{b(!1)}};return k?(0,s.jsx)(r.default,{children:(0,s.jsxs)("main",{className:"min-h-screen",children:[(0,s.jsx)("div",{className:"flex justify-center border-b",children:(0,s.jsxs)("div",{className:"w-full max-w-5xl border-x p-3",children:[(0,s.jsx)("h1",{className:"text-lg font-medium",children:"ประวัติการสั่งซื้อโซเชียลมีเดีย"}),(0,s.jsx)("p",{className:"text-muted-foreground text-xs",children:"กำลังโหลดข้อมูล..."})]})}),(0,s.jsx)("div",{className:"flex justify-center",children:(0,s.jsx)("div",{className:"w-full max-w-5xl border-x p-3",children:(0,s.jsx)("div",{className:"space-y-4",children:Array.from({length:3}).map((e,a)=>(0,s.jsxs)(i.Card,{className:"animate-pulse",children:[(0,s.jsxs)(i.CardHeader,{children:[(0,s.jsx)("div",{className:"h-4 bg-gray-200 rounded w-3/4"}),(0,s.jsx)("div",{className:"h-3 bg-gray-200 rounded w-1/2"})]}),(0,s.jsx)(i.CardContent,{children:(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsx)("div",{className:"h-3 bg-gray-200 rounded"}),(0,s.jsx)("div",{className:"h-3 bg-gray-200 rounded w-5/6"})]})})]},a))})})})]})}):(0,s.jsx)(r.default,{children:(0,s.jsxs)("main",{className:"min-h-screen",children:[(0,s.jsx)("div",{className:"flex justify-center border-b",children:(0,s.jsxs)("div",{className:"w-full max-w-5xl border-x p-3",children:[(0,s.jsx)("h1",{className:"text-lg font-medium",children:"ประวัติการสั่งซื้อโซเชียลมีเดีย"}),(0,s.jsx)("p",{className:"text-muted-foreground text-xs",children:"ประวัติการสั่งซื้อบริการโซเชียลมีเดียทั้งหมดของคุณ"})]})}),(0,s.jsx)("div",{className:"flex justify-center",children:(0,s.jsx)("div",{className:"w-full max-w-5xl border-x min-h-screen p-3",children:f.length>0?(0,s.jsxs)("div",{className:"space-y-4",children:[(0,s.jsxs)("div",{className:"flex items-center justify-between",children:[(0,s.jsxs)("p",{className:"text-sm text-muted-foreground",children:["พบ ",f.length," รายการ"]}),(0,s.jsxs)(d.Button,{variant:"outline",size:"sm",onClick:C,disabled:k,children:[(0,s.jsx)(p.RefreshCw,{className:`w-4 h-4 mr-2 ${k?"animate-spin":""}`}),"รีเฟรช"]})]}),(0,s.jsx)(l.ScrollArea,{className:"h-[600px]",children:(0,s.jsx)("div",{className:"space-y-4",children:f.map(e=>{let a;return(0,s.jsxs)(i.Card,{className:"hover:shadow-md transition-shadow",children:[(0,s.jsx)(i.CardHeader,{className:"pb-3",children:(0,s.jsxs)("div",{className:"flex items-start justify-between",children:[(0,s.jsxs)("div",{className:"space-y-1",children:[(0,s.jsxs)(i.CardTitle,{className:"text-base flex items-center gap-2",children:[(0,s.jsx)(n.ShoppingCart,{className:"w-4 h-4"}),"คำสั่งซื้อ #",e.id.slice(-8)]}),(0,s.jsxs)(i.CardDescription,{className:"flex items-center gap-4 text-xs",children:[(0,s.jsxs)("span",{className:"flex items-center gap-1",children:[(0,s.jsx)(x.Calendar,{className:"w-3 h-3"}),new Date(e.createdAt).toLocaleDateString("th-TH",{year:"numeric",month:"long",day:"numeric",hour:"2-digit",minute:"2-digit"})]}),e.transactionId&&(0,s.jsxs)("span",{className:"flex items-center gap-1",children:[(0,s.jsx)(m.CreditCard,{className:"w-3 h-3"}),"TXN: ",e.transactionId]})]})]}),(e=>{switch(e){case"completed":return(0,s.jsxs)(c.Badge,{variant:"default",className:"bg-green-100 text-green-800 border-green-200",children:[(0,s.jsx)(h.CheckCircle,{className:"w-3 h-3 mr-1"}),"สำเร็จ"]});case"failed":return(0,s.jsxs)(c.Badge,{variant:"destructive",children:[(0,s.jsx)(o.XCircle,{className:"w-3 h-3 mr-1"}),"ล้มเหลว"]});case"processing":return(0,s.jsxs)(c.Badge,{variant:"secondary",children:[(0,s.jsx)(p.RefreshCw,{className:"w-3 h-3 mr-1"}),"กำลังดำเนินการ"]});case"pending":return(0,s.jsxs)(c.Badge,{variant:"outline",children:[(0,s.jsx)(u.Clock,{className:"w-3 h-3 mr-1"}),"รอดำเนินการ"]});default:return(0,s.jsx)(c.Badge,{variant:"outline",children:e})}})(e.state)]})}),(0,s.jsx)(i.CardContent,{className:"pt-0",children:(0,s.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsxs)("div",{className:"flex items-center justify-between",children:[(0,s.jsx)("span",{className:"text-sm font-medium",children:"รหัสบริการ:"}),(0,s.jsx)("span",{className:"text-sm font-mono",children:e.productId})]}),(0,s.jsxs)("div",{className:"flex items-center justify-between",children:[(0,s.jsx)("span",{className:"text-sm font-medium",children:"ราคา:"}),(0,s.jsx)("span",{className:"text-sm font-semibold text-green-600",children:(a=e.price,new Intl.NumberFormat("th-TH",{style:"currency",currency:"THB"}).format(a))})]}),e.productMetadata&&(0,s.jsxs)("div",{className:"space-y-1",children:[(0,s.jsx)("span",{className:"text-sm font-medium",children:"ข้อมูลการสั่งซื้อ:"}),(0,s.jsxs)("div",{className:"bg-gray-50 p-2 rounded text-xs space-y-1",children:[e.productMetadata.link&&(0,s.jsxs)("div",{className:"flex items-center gap-2",children:[(0,s.jsx)(g,{className:"w-3 h-3"}),(0,s.jsx)("span",{className:"truncate",children:e.productMetadata.link})]}),e.productMetadata.quantity&&(0,s.jsxs)("div",{className:"flex items-center gap-2",children:[(0,s.jsx)(N,{className:"w-3 h-3"}),(0,s.jsxs)("span",{children:["จำนวน: ",e.productMetadata.quantity]})]}),e.productMetadata.runs&&(0,s.jsxs)("div",{children:["Runs: ",e.productMetadata.runs]}),e.productMetadata.interval&&(0,s.jsxs)("div",{children:["Interval: ",e.productMetadata.interval," นาที"]})]})]})]}),e.data&&(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsx)("span",{className:"text-sm font-medium",children:"ข้อมูลการตอบกลับ:"}),(0,s.jsxs)("div",{className:"bg-gray-50 p-3 rounded text-sm font-mono break-all relative",children:[(0,s.jsx)("div",{className:"max-h-20 overflow-hidden",children:e.data}),(0,s.jsx)(d.Button,{variant:"ghost",size:"sm",className:"absolute top-1 right-1 h-6 w-6 p-0",onClick:()=>{var s;return e.data&&(s=e.data,void(navigator.clipboard.writeText(s),v.toast.success("คัดลอกแล้ว")))},children:(0,s.jsx)(y.Copy,{className:"w-3 h-3"})})]})]})]})})]},e.id)})})})]}):(0,s.jsxs)("div",{className:"text-center py-12",children:[(0,s.jsx)(j.Package,{className:"w-12 h-12 mx-auto text-gray-400 mb-4"}),(0,s.jsx)("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"ยังไม่มีประวัติการสั่งซื้อ"}),(0,s.jsx)("p",{className:"text-gray-500 mb-4",children:"คุณยังไม่ได้สั่งซื้อบริการโซเชียลมีเดีย"}),(0,s.jsx)(d.Button,{asChild:!0,children:(0,s.jsxs)("a",{href:"/social",children:[(0,s.jsx)(n.ShoppingCart,{className:"w-4 h-4 mr-2"}),"ไปเลือกซื้อ"]})})]})})})]})})}e.s(["default",()=>w],8612)}]);